import{_}from"./index.f23a494a.js";import{r as s,c as m,d as x,l as d,F as H,m as S,o as g,p as P,t as b}from"./vendor.97229f6e.js";const k={props:{start:{type:Number,default:0,validator:function(t){return t>=0}},itemHeight:{type:Number,default:20,validator:function(t){return t>=1}},amount:{type:Number,default:5,validator:function(t){return t>=1}},tolerance:{type:Number,default:2,validator:function(t){return t>=1}},items:{type:Array,default:()=>[]},idProp:{type:String,default:"index"},textProp:{type:String,default:"text"}},setup(t){let r=t.amount*t.itemHeight,l=t.items.length*t.itemHeight;const a=t.amount+2*t.tolerance;let i=s((t.start-t.tolerance)*t.itemHeight),n=s(l-i.value),e=s([]);const c=(o,u)=>{let v=[];const f=Math.max(o,0),y=Math.min(o+u-1,t.items.length);return f<=y&&(v=t.items.slice(f,y)),v},h=({target:{scrollTop:o}})=>{const u=Math.floor(o/t.itemHeight-t.tolerance);e.value=c(u,a),i.value=Math.max(u*t.itemHeight,0),n.value=Math.max(l-i.value-e.value.length*t.itemHeight,0)};return t.amount+t.tolerance>=t.items.length&&(t.amount>=t.items.length&&(r=l),i.value=n.value=0,e.value=t.items),h({target:{scrollTop:0}}),{viewportHeight:r,topPaddingHeight:i,bottomPaddingHeight:n,runScroller:h,sources:e}}};function B(t,r,l,a,i,n){return g(),m("div",{class:"viewport",ref:"viewportElement",onScroll:r[0]||(r[0]=(...e)=>a.runScroller&&a.runScroller(...e)),style:d({height:a.viewportHeight+"px"})},[x("div",{style:d({height:a.topPaddingHeight+"px"})},null,4),(g(!0),m(H,null,S(a.sources,(e,c)=>(g(),m(H,{key:`virtual-item-${c}-${e[l.idProp]}`},[t.$slots.template?P(t.$slots,"template",{key:0,item:e}):(g(),m("div",{key:1,class:"virtual-item",style:d({height:l.itemHeight+"px"})},b(e[l.textProp]),5))],64))),128)),x("div",{style:d({height:a.bottomPaddingHeight+"px"})},null,4)],36)}var w=_(k,[["render",B]]);export{w as default};
